{"is_source_file": true, "format": "JavaScript/React JSX", "description": "A React component file implementing a 3D horse riding simulation with a chase camera, horse model with animations, and environment setup using react-three-fiber. Contains logic for camera positioning, horse movement, gait animations, and rendering of scene elements.", "external_files": ["@react-three/fiber", "@react-three/drei", "../../store/gameStore", "./useKeyboardControls"], "external_methods": ["useGameStore", "useKeyboardControls"], "published": ["Simulation"], "classes": [{"name": "ChaseCamera", "description": "A React component that implements a smooth third-person chase camera following the horse, with configurable offset and damping."}, {"name": "Horse", "description": "A stylized horse component with animated legs, head, and body, responding to user input and gait state."}], "methods": [{"name": "Simulation()", "description": "Main React component rendering the entire 3D scene, including ground, sky, horse, and camera.", "scope": "", "scopeKind": ""}, {"name": "Ground()", "description": "Component rendering the ground plane.", "scope": "", "scopeKind": ""}, {"name": "ChaseCamera({ targetRef, offset = [0, 2.0, 6.0], stiffness = 0.18,  verticalDamping = 0.08,  lookAtOffset = [0, 1.3, -1.5] })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Horse(_, ref)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["useThree", "useFrame", "useMemo", "useRef", "React.forwardRef", "useGameStore", "useKeyboardControls"], "search-terms": ["ChaseCamera", "Horse", "Simulation.jsx", "react-three-fiber scene", "gait animation", "3D scene with horse and camera"], "state": 2, "file_id": 18, "knowledge_revision": 59, "git_revision": "ad2e5df8dab4f1fe73ee97c90fc704bbbbdf3588", "revision_history": [{"40": ""}, {"54": ""}, {"57": "3bc36fd1c9d3e0cffd018314ea7f70c0dfea4e0d"}, {"58": "929df2ba4c436f7ba31a0707ee9b2fca5f9af746"}, {"59": "ad2e5df8dab4f1fe73ee97c90fc704bbbbdf3588"}], "ctags": [{"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^      <ambientLight intensity={0.5} \\/>$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClassfe95caa90201", "scopeKind": "class"}, {"_type": "tag", "name": "ChaseCamera", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^function ChaseCamera({$/", "language": "JavaScript", "kind": "function", "signature": "({ targetRef, offset = [0, 2.0, 6.0], stiffness = 0.18,  verticalDamping = 0.08,  lookAtOffset = [0, 1.3, -1.5] })"}, {"_type": "tag", "name": "Ground", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^function Ground() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Horse", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^const Horse = React.forwardRef(function Horse(_, ref) {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Horse", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^const Horse = React.forwardRef(function Horse(_, ref) {$/", "language": "JavaScript", "kind": "function", "signature": "(_, ref)"}, {"_type": "tag", "name": "Simulation", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^export default function Simulation() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "[-Math.PI / 2, 0, 0]", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    <mesh rotation={[-Math.PI \\/ 2, 0, 0]} receiveShadow>$/", "language": "JavaScript", "kind": "field", "scope": "Ground.AnonymousClassfe95caa90301", "scopeKind": "class"}, {"_type": "tag", "name": "amp", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    canter: { speed: 5.0, drain: 0.09, freq: 4.4, amp: 0.55 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.canter", "scopeKind": "class"}, {"_type": "tag", "name": "amp", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    gallop: { speed: 8.0, drain: 0.16, freq: 6.0, amp: 0.65 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.gallop", "scopeKind": "class"}, {"_type": "tag", "name": "amp", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    trot:   { speed: 3.2, drain: 0.05, freq: 3.2, amp: 0.45 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.trot", "scopeKind": "class"}, {"_type": "tag", "name": "amp", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    walk:   { speed: 1.5, drain: 0.02, freq: 2.2, amp: 0.35 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.walk", "scopeKind": "class"}, {"_type": "tag", "name": "canter", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    canter: { speed: 5.0, drain: 0.09, freq: 4.4, amp: 0.55 },$/", "language": "JavaScript", "kind": "class", "scope": "Horse.gaitMeta", "scopeKind": "class"}, {"_type": "tag", "name": "drain", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    canter: { speed: 5.0, drain: 0.09, freq: 4.4, amp: 0.55 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.canter", "scopeKind": "class"}, {"_type": "tag", "name": "drain", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    gallop: { speed: 8.0, drain: 0.16, freq: 6.0, amp: 0.65 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.gallop", "scopeKind": "class"}, {"_type": "tag", "name": "drain", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    trot:   { speed: 3.2, drain: 0.05, freq: 3.2, amp: 0.45 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.trot", "scopeKind": "class"}, {"_type": "tag", "name": "drain", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    walk:   { speed: 1.5, drain: 0.02, freq: 2.2, amp: 0.35 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.walk", "scopeKind": "class"}, {"_type": "tag", "name": "freq", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    canter: { speed: 5.0, drain: 0.09, freq: 4.4, amp: 0.55 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.canter", "scopeKind": "class"}, {"_type": "tag", "name": "freq", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    gallop: { speed: 8.0, drain: 0.16, freq: 6.0, amp: 0.65 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.gallop", "scopeKind": "class"}, {"_type": "tag", "name": "freq", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    trot:   { speed: 3.2, drain: 0.05, freq: 3.2, amp: 0.45 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.trot", "scopeKind": "class"}, {"_type": "tag", "name": "freq", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    walk:   { speed: 1.5, drain: 0.02, freq: 2.2, amp: 0.35 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.walk", "scopeKind": "class"}, {"_type": "tag", "name": "gaitMeta", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^  const gaitMeta = {$/", "language": "JavaScript", "kind": "class", "scope": "Horse", "scopeKind": "class"}, {"_type": "tag", "name": "gallop", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    gallop: { speed: 8.0, drain: 0.16, freq: 6.0, amp: 0.65 },$/", "language": "JavaScript", "kind": "class", "scope": "Horse.gaitMeta", "scopeKind": "class"}, {"_type": "tag", "name": "rootRef", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    <group ref={rootRef} position={[0, 0.8, 0]}>$/", "language": "JavaScript", "kind": "field", "scope": "Horse.AnonymousClassfe95caa90401", "scopeKind": "class"}, {"_type": "tag", "name": "speed", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    canter: { speed: 5.0, drain: 0.09, freq: 4.4, amp: 0.55 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.canter", "scopeKind": "class"}, {"_type": "tag", "name": "speed", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    gallop: { speed: 8.0, drain: 0.16, freq: 6.0, amp: 0.65 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.gallop", "scopeKind": "class"}, {"_type": "tag", "name": "speed", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    trot:   { speed: 3.2, drain: 0.05, freq: 3.2, amp: 0.45 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.trot", "scopeKind": "class"}, {"_type": "tag", "name": "speed", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    walk:   { speed: 1.5, drain: 0.02, freq: 2.2, amp: 0.35 },$/", "language": "JavaScript", "kind": "property", "scope": "Horse.gaitMeta.walk", "scopeKind": "class"}, {"_type": "tag", "name": "trot", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    trot:   { speed: 3.2, drain: 0.05, freq: 3.2, amp: 0.45 },$/", "language": "JavaScript", "kind": "class", "scope": "Horse.gaitMeta", "scopeKind": "class"}, {"_type": "tag", "name": "walk", "path": "/home/kavia/workspace/code-generation/virtual-horse-riding-simulator-162929-162938/horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "pattern": "/^    walk:   { speed: 1.5, drain: 0.02, freq: 2.2, amp: 0.35 },$/", "language": "JavaScript", "kind": "class", "scope": "Horse.gaitMeta", "scopeKind": "class"}], "hash": "85b31f109409290bb8b5c4eb9db77c27", "format-version": 4, "code-base-name": "horse_riding_simulator_frontend", "filename": "horse_riding_simulator_frontend/src/components/simulation/Simulation.jsx", "fields": [{"name": "<ambientLight intensity={0.5} \\/>", "scope": "AnonymousClassfe95caa90201", "scopeKind": "class", "description": "unavailable"}, {"name": "<mesh rotation={[-Math.PI \\/ 2, 0, 0]} receiveShadow>", "scope": "Ground.AnonymousClassfe95caa90301", "scopeKind": "class", "description": "unavailable"}, {"name": "canter: { speed: 5.0, drain: 0.09, freq: 4.4, amp: 0.55 },", "scope": "Horse.gaitMeta.canter", "scopeKind": "class", "description": "unavailable"}, {"name": "gallop: { speed: 8.0, drain: 0.16, freq: 6.0, amp: 0.65 },", "scope": "Horse.gaitMeta.gallop", "scopeKind": "class", "description": "unavailable"}, {"name": "trot:   { speed: 3.2, drain: 0.05, freq: 3.2, amp: 0.45 },", "scope": "Horse.gaitMeta.trot", "scopeKind": "class", "description": "unavailable"}, {"name": "walk:   { speed: 1.5, drain: 0.02, freq: 2.2, amp: 0.35 },", "scope": "Horse.gaitMeta.walk", "scopeKind": "class", "description": "unavailable"}, {"name": "<group ref={rootRef} position={[0, 0.8, 0]}>", "scope": "Horse.AnonymousClassfe95caa90401", "scopeKind": "class", "description": "unavailable"}]}